{
  "title": "Cost Overview",
  "panels": [
    {
      "id": 1,
      "type": "stat",
      "title": "Total Cost (Last 7d)",
      "targets": [
        {
          "format": "table",
          "rawSql": "SELECT SUM(cost_amount) as total FROM daily_costs WHERE date >= NOW()::date - INTERVAL '7 day';",
          "refId": "A",
          "datasource": {
            "type": "postgres",
            "uid": "Postgres"
          }
        }
      ]
    },
    {
      "id": 2,
      "type": "timeseries",
      "title": "Daily Costs by Provider (30d)",
      "targets": [
        {
          "format": "time_series",
          "rawSql": "SELECT date as time, provider, SUM(cost_amount) as value FROM daily_costs WHERE date >= NOW()::date - INTERVAL '30 day' GROUP BY date, provider ORDER BY date ASC;",
          "refId": "A",
          "datasource": {
            "type": "postgres",
            "uid": "Postgres"
          }
        }
      ]
    }
  ],
  "time": {
    "from": "now-30d",
    "to": "now"
  }
}